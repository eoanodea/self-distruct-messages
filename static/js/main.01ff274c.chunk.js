(this.webpackJsonpsdm=this.webpackJsonpsdm||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),r=n.n(s),c=n(6),o=n.n(c),u=(n(12),n(2)),i=n.p+"static/media/logo.b3fb271f.gif",p=n.p+"static/media/unlocked.a97ea20a.gif",l=(n(13),n(3)),j=n.n(l),d=n(5),h="https://self-destruct-message-server.herokuapp.com",b="/api/",m=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h).concat(b,"messages/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h).concat(b,"messages/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var O=function(){var e=r.a.useState(!1),t=Object(u.a)(e,2),n=t[0],s=t[1],c=r.a.useState(""),o=Object(u.a)(c,2),l=o[0],j=o[1],d=r.a.useState(null),h=Object(u.a)(d,2),b=h[0],O=h[1],g=r.a.useState(!1),x=Object(u.a)(g,2),v=x[0],N=x[1],k=r.a.useState(null),y=Object(u.a)(k,2),A=y[0],E=y[1];return n?Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("img",{src:p,className:"App-logo",alt:"logo"}),Object(a.jsx)("p",{children:"Secure Message:"}),Object(a.jsx)("p",{className:"message",children:A}),Object(a.jsx)("button",{disabled:v,className:"erase-button",onClick:function(){N(!0),f(l).then((function(e){if(N(!1),!e||e.error)return O("Could not destroy message");s(!1),E(null),j("")}))},children:"Destroy"})]})}):Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("img",{src:i,className:"App-logo",alt:"logo"}),Object(a.jsx)("p",{children:"Enter your passphrase to continue"}),Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsx)("input",{type:"text",id:"passcode",value:l,onChange:function(e){return j(e.target.value)},placeholder:"Passphrase"}),Object(a.jsx)("button",{disabled:v,onClick:function(){if(""===l)return O("Passphrase cannot be blank");N(!0),O(null),m(l).then((function(e){if(N(!1),!e||e.error)return O("Passphrase is not correct");s(!0),E(e.message.message)}))},children:"Enter"})]}),b&&Object(a.jsxs)("p",{className:"error",children:[" ",b]})]})})};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(O,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.01ff274c.chunk.js.map
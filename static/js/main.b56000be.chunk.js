(this.webpackJsonpsdm=this.webpackJsonpsdm||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n.n(a),r=n(6),o=n.n(r),i=(n(12),n(2)),l=n.p+"static/media/logo.b3fb271f.gif",u=n.p+"static/media/unlocked.a97ea20a.gif",p=n.p+"static/media/loading.d428528c.gif",d=(n(13),n(3)),j=n.n(d),b=n(5),h="https://self-destruct-message-server.herokuapp.com",m="/api/",f=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h).concat(m,"messages/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h).concat(m,"messages/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var g=function(){var e=c.a.useState(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],r=c.a.useState(""),o=Object(i.a)(r,2),d=o[0],j=o[1],b=c.a.useState(null),h=Object(i.a)(b,2),m=h[0],g=h[1],x=c.a.useState(!1),v=Object(i.a)(x,2),N=v[0],A=v[1],C=c.a.useState(null),k=Object(i.a)(C,2),w=k[0],y=k[1];return n?Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("img",{src:N?p:u,className:"App-logo",alt:"logo"}),Object(s.jsx)("p",{children:"Secure Message:"}),Object(s.jsx)("p",{className:"message",children:w}),m&&Object(s.jsxs)("p",{className:"error",children:["Error: ",m]}),Object(s.jsx)("button",{disabled:N,className:"erase-button",onClick:function(){A(!0),O(d).then((function(e){if(A(!1),!e||e.error)return g("Could not destroy message");a(!1),y(null),j("")}))},children:"Destroy"}),Object(s.jsx)("button",{disabled:N,className:"erase-button",onClick:function(){A(!1),a(!1),y(null),j(""),g(null)},children:"Close"})]})}):Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("img",{src:N?p:l,className:"App-logo",alt:"logo"}),Object(s.jsx)("p",{children:"Enter your passphrase to continue"}),Object(s.jsxs)("div",{className:"form-container",children:[Object(s.jsx)("input",{type:"text",id:"passcode",value:d,onChange:function(e){return j(e.target.value.toLowerCase())},placeholder:"Passphrase"}),Object(s.jsx)("button",{className:"submit-button",disabled:N,onClick:function(){if(""===d)return g("Passphrase cannot be blank");A(!0),g(null),f(d).then((function(e){if(A(!1),!e||e.error)return g("Passphrase is not correct");a(!0),y(e.message.message)}))},children:"Enter"})]}),m&&Object(s.jsxs)("p",{className:"error",children:[" ",m]})]})})};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b56000be.chunk.js.map